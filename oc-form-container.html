<link rel="import" href="../polymer/polymer-element.html">
<link rel="import" href="../polymer-decorators/polymer-decorators.html">
<link rel="import" href="../iron-icon/iron-icon.html">
<link rel="import" href="../iron-icons/iron-icons.html">
<link rel="import" href="../iron-collapse/iron-collapse.html">

<link rel="import" href="oc-form-creator.html">
<link rel="import" href="oc-data-layer.html">
<link rel="import" href="oc-event.html">

<dom-module id="oc-form-container">
    <template>
        <!-- BOOTSTRAP 4 CSS-->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
        <style>
            :host {
                display: block;
                background-color: var(--app-secondary-color);
                color: white;
            }

            .category-heading {
                border-top: 1px #333F4C solid;
                border-bottom: 1px #333F4C solid;
                border-radius: 4px;
                background: #333F4C;
                color: white;
                margin-bottom: 12px;

                box-shadow: 0 1px 2px rgba(0,0,0,0.15);
                transition: box-shadow 0.3s ease-in-out;
            }

            .category-heading:hover {
                box-shadow: 0 3px 5px rgba(0,0,0,0.3);
                cursor: pointer;
            }

            h3 {
                font-size: 1.13em !important;
                margin: 10px 0 !important;
                font-weight: 300 !important;
            }

            .float-right {
                float: right;
            }
        </style>

        <div class="container-fluid">
            <div class="row category-heading align-items-center" on-click="onHeaderClick">
                <div class="col">
                    <h3>[[header]]</h3>
                </div>
                <div class="col-2" hidden="[[!isCollapsible]]">
                    <iron-icon icon="[[collapseIcon]]" class="float-right"></iron-icon>
                </div>
                <slot name="header-content"></slot>
            </div>
            <iron-collapse id="ironCollapse" opened>
                <!-- Either/Or -->
                <slot></slot>
                <slot name="content"></slot>
                <oc-form-creator id="formCreator"></oc-form-creator>
                <!-- TODO: This slot is for the button container -->
                <div class="row category-heading">
                    <div class="col-sm-12 text-center">
                        <slot name="button"></slot>
                    </div>
                </div>
            </iron-collapse>
        </div>
    </template>

    <script src="oc-form-container.js"></script>
</dom-module>
